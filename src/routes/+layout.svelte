<script lang="ts">
	import { onMount } from 'svelte';
	import '../app.css';
    import { fade } from "svelte/transition";

	let { children } = $props();

	let dark = $state(false);

	onMount(() => {
		dark = window.matchMedia('(prefers-color-scheme: dark)').matches;
	});
</script>

<main class="mx-auto max-w-screen-lg px-5 py-5">
	<div class="flex items-center justify-between md:mb-5">
		<div>
			<svg
				class="h-10 md:h-14"
				viewBox="0 0 511 120"
				fill="none"
				xmlns="http://www.w3.org/2000/svg"
			>
				<rect
					x="52.9043"
					y="44"
					width="23.1358"
					height="74.2683"
					rx="11"
					transform="rotate(32.5 52.9043 44)"
					fill="url(#paint0_linear_1_21)"
				/>
				<rect
					x="68"
					y="48"
					width="23"
					height="64"
					rx="11.5"
					transform="rotate(90 68 48)"
					fill="url(#paint1_linear_1_21)"
				/>
				<rect
					x="39.9043"
					width="23.1358"
					height="74.2683"
					rx="11"
					transform="rotate(32.5 39.9043 0)"
					fill="url(#paint2_linear_1_21)"
				/>
				<path
					d="M107.057 88.5341V32.5341H120.017V77.9741H148.097V88.5341H107.057ZM154.536 88.5341V45.4941H167.016V88.5341H154.536ZM160.776 39.4941C158.483 39.4941 156.616 38.8274 155.176 37.4941C153.736 36.1607 153.016 34.5074 153.016 32.5341C153.016 30.5607 153.736 28.9074 155.176 27.5741C156.616 26.2407 158.483 25.5741 160.776 25.5741C163.07 25.5741 164.936 26.2141 166.376 27.4941C167.816 28.7207 168.536 30.3207 168.536 32.2941C168.536 34.3741 167.816 36.1074 166.376 37.4941C164.99 38.8274 163.123 39.4941 160.776 39.4941ZM198.839 104.694C194.785 104.694 190.865 104.187 187.079 103.174C183.345 102.214 180.225 100.747 177.719 98.7741L182.679 89.8141C184.492 91.3074 186.785 92.4807 189.559 93.3341C192.385 94.2407 195.159 94.6941 197.879 94.6941C202.305 94.6941 205.505 93.7074 207.479 91.7341C209.505 89.7607 210.519 86.8274 210.519 82.9341V76.4541L211.319 65.6541L211.159 54.7741V45.4941H222.999V81.3341C222.999 89.3341 220.919 95.2274 216.759 99.0141C212.599 102.801 206.625 104.694 198.839 104.694ZM196.919 86.4541C192.919 86.4541 189.292 85.6007 186.039 83.8941C182.839 82.1341 180.252 79.7074 178.279 76.6141C176.359 73.4674 175.399 69.8141 175.399 65.6541C175.399 61.4407 176.359 57.7874 178.279 54.6941C180.252 51.5474 182.839 49.1207 186.039 47.4141C189.292 45.7074 192.919 44.8541 196.919 44.8541C200.545 44.8541 203.745 45.6007 206.519 47.0941C209.292 48.5341 211.452 50.8007 212.999 53.8941C214.545 56.9341 215.319 60.8541 215.319 65.6541C215.319 70.4007 214.545 74.3207 212.999 77.4141C211.452 80.4541 209.292 82.7207 206.519 84.2141C203.745 85.7074 200.545 86.4541 196.919 86.4541ZM199.399 76.2141C201.585 76.2141 203.532 75.7874 205.239 74.9341C206.945 74.0274 208.279 72.7741 209.239 71.1741C210.199 69.5741 210.679 67.7341 210.679 65.6541C210.679 63.5207 210.199 61.6807 209.239 60.1341C208.279 58.5341 206.945 57.3074 205.239 56.4541C203.532 55.5474 201.585 55.0941 199.399 55.0941C197.212 55.0941 195.265 55.5474 193.559 56.4541C191.852 57.3074 190.492 58.5341 189.479 60.1341C188.519 61.6807 188.039 63.5207 188.039 65.6541C188.039 67.7341 188.519 69.5741 189.479 71.1741C190.492 72.7741 191.852 74.0274 193.559 74.9341C195.265 75.7874 197.212 76.2141 199.399 76.2141ZM260.774 44.8541C264.188 44.8541 267.228 45.5474 269.894 46.9341C272.614 48.2674 274.748 50.3474 276.294 53.1741C277.841 55.9474 278.614 59.5207 278.614 63.8941V88.5341H266.134V65.8141C266.134 62.3474 265.361 59.7874 263.814 58.1341C262.321 56.4807 260.188 55.6541 257.414 55.6541C255.441 55.6541 253.654 56.0807 252.054 56.9341C250.508 57.7341 249.281 58.9874 248.374 60.6941C247.521 62.4007 247.094 64.5874 247.094 67.2541V88.5341H234.614V29.1741H247.094V57.4141L244.294 53.8141C245.841 50.9341 248.054 48.7207 250.934 47.1741C253.814 45.6274 257.094 44.8541 260.774 44.8541ZM307.527 89.1741C302.46 89.1741 298.514 87.8941 295.687 85.3341C292.86 82.7207 291.447 78.8541 291.447 73.7341V35.9741H303.927V73.5741C303.927 75.3874 304.407 76.8007 305.367 77.8141C306.327 78.7741 307.634 79.2541 309.287 79.2541C311.26 79.2541 312.94 78.7207 314.327 77.6541L317.687 86.4541C316.407 87.3607 314.86 88.0541 313.047 88.5341C311.287 88.9607 309.447 89.1741 307.527 89.1741ZM284.807 56.0541V46.4541H314.647V56.0541H284.807ZM350.853 44.8541C354.266 44.8541 357.306 45.5474 359.973 46.9341C362.693 48.2674 364.826 50.3474 366.373 53.1741C367.919 55.9474 368.693 59.5207 368.693 63.8941V88.5341H356.213V65.8141C356.213 62.3474 355.439 59.7874 353.893 58.1341C352.399 56.4807 350.266 55.6541 347.493 55.6541C345.519 55.6541 343.733 56.0807 342.133 56.9341C340.586 57.7341 339.359 58.9874 338.453 60.6941C337.599 62.4007 337.173 64.5874 337.173 67.2541V88.5341H324.693V45.4941H336.613V57.4141L334.373 53.8141C335.919 50.9341 338.133 48.7207 341.013 47.1741C343.893 45.6274 347.173 44.8541 350.853 44.8541ZM380.005 88.5341V45.4941H392.485V88.5341H380.005ZM386.245 39.4941C383.952 39.4941 382.085 38.8274 380.645 37.4941C379.205 36.1607 378.485 34.5074 378.485 32.5341C378.485 30.5607 379.205 28.9074 380.645 27.5741C382.085 26.2407 383.952 25.5741 386.245 25.5741C388.538 25.5741 390.405 26.2141 391.845 27.4941C393.285 28.7207 394.005 30.3207 394.005 32.2941C394.005 34.3741 393.285 36.1074 391.845 37.4941C390.458 38.8274 388.592 39.4941 386.245 39.4941ZM430.228 44.8541C433.641 44.8541 436.681 45.5474 439.348 46.9341C442.068 48.2674 444.201 50.3474 445.748 53.1741C447.294 55.9474 448.068 59.5207 448.068 63.8941V88.5341H435.588V65.8141C435.588 62.3474 434.814 59.7874 433.268 58.1341C431.774 56.4807 429.641 55.6541 426.868 55.6541C424.894 55.6541 423.108 56.0807 421.508 56.9341C419.961 57.7341 418.734 58.9874 417.828 60.6941C416.974 62.4007 416.548 64.5874 416.548 67.2541V88.5341H404.068V45.4941H415.988V57.4141L413.748 53.8141C415.294 50.9341 417.508 48.7207 420.388 47.1741C423.268 45.6274 426.548 44.8541 430.228 44.8541ZM479.933 104.694C475.879 104.694 471.959 104.187 468.173 103.174C464.439 102.214 461.319 100.747 458.813 98.7741L463.773 89.8141C465.586 91.3074 467.879 92.4807 470.653 93.3341C473.479 94.2407 476.253 94.6941 478.973 94.6941C483.399 94.6941 486.599 93.7074 488.573 91.7341C490.599 89.7607 491.613 86.8274 491.613 82.9341V76.4541L492.413 65.6541L492.253 54.7741V45.4941H504.093V81.3341C504.093 89.3341 502.013 95.2274 497.853 99.0141C493.693 102.801 487.719 104.694 479.933 104.694ZM478.013 86.4541C474.013 86.4541 470.386 85.6007 467.133 83.8941C463.933 82.1341 461.346 79.7074 459.373 76.6141C457.453 73.4674 456.493 69.8141 456.493 65.6541C456.493 61.4407 457.453 57.7874 459.373 54.6941C461.346 51.5474 463.933 49.1207 467.133 47.4141C470.386 45.7074 474.013 44.8541 478.013 44.8541C481.639 44.8541 484.839 45.6007 487.613 47.0941C490.386 48.5341 492.546 50.8007 494.093 53.8941C495.639 56.9341 496.413 60.8541 496.413 65.6541C496.413 70.4007 495.639 74.3207 494.093 77.4141C492.546 80.4541 490.386 82.7207 487.613 84.2141C484.839 85.7074 481.639 86.4541 478.013 86.4541ZM480.493 76.2141C482.679 76.2141 484.626 75.7874 486.333 74.9341C488.039 74.0274 489.373 72.7741 490.333 71.1741C491.293 69.5741 491.773 67.7341 491.773 65.6541C491.773 63.5207 491.293 61.6807 490.333 60.1341C489.373 58.5341 488.039 57.3074 486.333 56.4541C484.626 55.5474 482.679 55.0941 480.493 55.0941C478.306 55.0941 476.359 55.5474 474.653 56.4541C472.946 57.3074 471.586 58.5341 470.573 60.1341C469.613 61.6807 469.133 63.5207 469.133 65.6541C469.133 67.7341 469.613 69.5741 470.573 71.1741C471.586 72.7741 472.946 74.0274 474.653 74.9341C476.359 75.7874 478.306 76.2141 480.493 76.2141Z"
					class="fill-[#242424] dark:fill-white"
				/>
				<defs>
					<linearGradient
						id="paint0_linear_1_21"
						x1="64.4722"
						y1="44"
						x2="64.4722"
						y2="118.268"
						gradientUnits="userSpaceOnUse"
					>
						<stop stop-color="#B737A9" />
						<stop offset="0.5" stop-color="#7B35EA" />
						<stop offset="1" stop-color="#4184FF" />
					</linearGradient>
					<linearGradient
						id="paint1_linear_1_21"
						x1="79.5"
						y1="112"
						x2="79.5"
						y2="48"
						gradientUnits="userSpaceOnUse"
					>
						<stop stop-color="#FCC616" />
						<stop offset="0.5" stop-color="#FF7935" />
						<stop offset="1" stop-color="#FD484B" />
					</linearGradient>
					<linearGradient
						id="paint2_linear_1_21"
						x1="51.4722"
						y1="0"
						x2="51.4722"
						y2="74.2683"
						gradientUnits="userSpaceOnUse"
					>
						<stop stop-color="#05D34D" />
						<stop offset="1" stop-color="#FCC616" />
					</linearGradient>
				</defs>
			</svg>
		</div>

		<button
			title="toggle mode"
			onclick={() => {
				const html = document.documentElement;

				if (html.classList.contains('dark')) {
					dark = false;
					html.classList.remove('dark');
					html.classList.add('light');
					localStorage.theme = 'light';
				} else if (html.classList.contains('light')) {
					dark = true;
					html.classList.remove('light');
					html.classList.add('dark');
					localStorage.theme = 'dark';
				} else {
					dark = true;
					html.classList.remove('light');
					html.classList.add('dark');
					localStorage.theme = 'dark';
				}
			}}
			class="relative flex h-12 w-12 cursor-pointer items-center justify-center rounded bg-current/10 duration-300"
		>
			{#if dark}
				<svg
					transition:fade
					xmlns="http://www.w3.org/2000/svg"
					width="24"
					height="24"
					viewBox="0 0 24 24"
					fill="none"
					stroke="currentColor"
					stroke-width="2"
					stroke-linecap="round"
					stroke-linejoin="round"
					class="absolute animate-[spin_1s_ease-in-out_alternate]"
					><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z" /></svg
				>
			{:else}
				<svg
					transition:fade
					xmlns="http://www.w3.org/2000/svg"
					width="24"
					height="24"
					viewBox="0 0 24 24"
					fill="none"
					stroke="currentColor"
					stroke-width="2"
					stroke-linecap="round"
					stroke-linejoin="round"
					class="absolute animate-[spin_1s_ease-in-out_alternate]"
					><circle cx="12" cy="12" r="4" /><path d="M12 2v2" /><path d="M12 20v2" /><path
						d="m4.93 4.93 1.41 1.41"
					/><path d="m17.66 17.66 1.41 1.41" /><path d="M2 12h2" /><path d="M20 12h2" /><path
						d="m6.34 17.66-1.41 1.41"
					/><path d="m19.07 4.93-1.41 1.41" /></svg
				>{/if}
		</button>
	</div>

	<div>
		{@render children()}
	</div>
</main>

<footer class="mt-5 bg-black/5 px-5 py-5 text-center">
	<div>
		&copy; {new Date().getFullYear()} lightning.app todos os direitos reservados
	</div>
</footer>
